<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Constancia - {{ constancia.participante.nombre_completo }}</title>
   <style>
    @page {
        size: letter landscape;
        margin: 0;
    }
    html, body {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif; /* Puedes ajustar la fuente si lo deseas */
        width: 100%;
        height: 100%;
    }
    .constancia-container {
        position: relative;
        width: 100%;
        height: 100%;
    }
    #fondo {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
    }
    .contenido {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 2;
    }
    .texto {
        position: absolute;
        width: 90%;
        left: 5%;
        text-align: center;
        color: #333;
    }

    /* --- ESTILOS AJUSTADOS SEGÚN TU DISEÑO --- */
    
    .estatico-otorga {
        top: 250px; /* AJUSTAR */
        font-size: 14px;
        color: #555;
    }
    .estatico-constancia {
        top: 350px; /* AJUSTAR */
        font-size: 38px;
        font-weight: bold;
        color: #005a4a;
        letter-spacing: 4px; /* Añade espaciado entre letras */
    }
    .estatico-a-la {
        top: 270px; /* AJUSTAR */
        font-size: 14px;
        color: #555;
    }
    .nombre-participante {
        top: 425px; /* AJUSTAR */
        font-size: 42px;
        font-weight: bold;
        color: #222;
    }
    .estatico-por-haber {
        top: 525px; /* AJUSTAR */
        font-size: 14px;
        color: #555;
    }
    .nombre-curso {
        top: 550px; /* AJUSTAR */
        font-size: 28px;
        font-weight: bold;
        color: #005a4a;
    }
    .fecha-duracion {
        top: 650px; /* AJUSTAR */
        font-size: 14px;
        color: #555;
    }
    .firma-container {
        position: absolute;
        bottom: 110px; /* AJUSTAR */
        width: 280px;
        text-align: center;
    }
    .firma-gerente { left: 150px; } /* AJUSTAR */
    .firma-especialista { right: 150px; } /* AJUSTAR */
    .firma-img {
        height: 150px; /* AJUSTAR */
        width: auto;
        margin-bottom: -65px;
    }
    .firma-nombre {
        font-size: 14px;
        font-weight: bold;
        border-top: 1px solid #333;
        padding-top: 5px;
        margin-top: 5px;
    }
    .firma-cargo {
        font-size: 12px;
        color: #555;
    }
</style>
</head>
<body>
    {% if bg_image_base64 %}
    <img id="fondo" src="data:{{ bg_image_mime_type }};base64,{{ bg_image_base64|safe }}">
    {% endif %}
    
    <div class="contenido">
        
        <div class="texto estatico-otorga">otorga la presente</div>
        <div class="texto estatico-constancia">CONSTANCIA</div>
        <div class="texto estatico-a-la">al {{ constancia.participante.titulo }}</div>

        <div class="texto nombre-participante">{{ constancia.participante.nombre_completo }}</div>
        <div class="texto estatico-por-haber">por haber participado activamente en el curso teórico</div>
        <div class="texto nombre-curso">{{ constancia.curso.nombre }}</div>
        <div class="texto fecha-duracion">
            Que tuvo lugar del {{ constancia.fecha_inicio|date:"d \d\e F \d\e\l Y" }} al {{ constancia.fecha_termino|date:"d \d\e F \d\e\l Y" }} con una duración total de {{ constancia.duracion_en_horas }} horas.
        </div>

        <div class="firma-container firma-gerente">
            {% if firma_gerente_base64 %}
            <img src="data:{{ firma_gerente_mime_type }};base64,{{ firma_gerente_base64|safe }}" class="firma-img">
            {% endif %}
            <p class="firma-nombre">{{ constancia.firma_gerente.get_full_name }}</p>
            <p class="firma-cargo">{{ constancia.firma_gerente.cargo }}</p>
        </div>
        <div class="firma-container firma-especialista">
            {% if firma_especialista_base64 %}
            <img src="data:{{ firma_especialista_mime_type }};base64,{{ firma_especialista_base64|safe }}" class="firma-img">
            {% endif %}
            <p class="firma-nombre">{{ constancia.firma_especialista.get_full_name }}</p>
            <p class="firma-cargo">{{ constancia.firma_especialista.cargo }}</p>
        </div>
    </div>
</body>
</html>